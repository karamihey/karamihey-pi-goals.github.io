(window["webpackJsonppi-goals"]=window["webpackJsonppi-goals"]||[]).push([[0],{192:function(e,t,n){e.exports=n(404)},403:function(e,t,n){},404:function(e,t,n){"use strict";n.r(t);n(193),n(202);var a=n(1),r=n.n(a),i=n(72),o=n.n(i),c=n(91),l=n(45),s=n(73),u="/",d="/sign-in",m="/sign-up",f=function(){return r.a.createElement("div",{className:""})},p=n(29),b=16,h=8,g="should not be blank",O="must be at least",w="must be no more than ",v="characters long",j="is invalid",y="must contain digits, lowercase letters, uppercase letters and a special character(s)",E="do not match",P=function(e){return e?e.toString():""},k={email:/^\w+([.+-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,})+$/,password:/^(?=.*?[a-z])(?=.*?[0-9])(?=.*[A-Z])(?=.*[.!@#$%^&*()_+=-]).+$/},C=function(e,t){var n=t.isRequired,a=t.minLength,r=t.maxLength,i=t.handleValidationCallback,o=P(e);o=o.trim();var c="";return n&&(c=function(e){return(!e||0===e.length)&&g}(o)),!c&&a&&(c=function(e,t){return!(e.length>=t)&&"".concat(O," ").concat(t," ").concat(v)}(o,a)),!c&&r&&(c=function(e,t){return!(e.length<=t)&&"".concat(w," ").concat(t," ").concat(v)}(o,r)),!c&&i&&(c=i(o)),c},S={email:{isRequired:!0,handleValidationCallback:function(e){return(!e||!k.email.test(e))&&j}},password:{isRequired:!0,maxLength:b,minLength:h,handleValidationCallback:function(e){return(!e||!k.password.test(e))&&y}},confirmPassword:{isRequired:!0,maxLength:b,minLength:h,handleValidationCallback:function(e,t){return e!==t&&E}}},x=n(37);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R={},D={},N=function(e,t){var n;n=e,Object.keys(n).forEach((function(e){R[e]="",D[e]=""}));var r=Object(a.useState)(R),i=Object(p.a)(r,2),o=i[0],c=i[1],l=Object(a.useState)(D),s=Object(p.a)(l,2),u=s[0],d=s[1],m=Object(a.useState)(!1),f=Object(p.a)(m,2),b=f[0],h=f[1];Object(a.useEffect)((function(){t&&h(!1)}),[t]);var g=function(e,t){var n={isRequired:t.isRequired,minLength:t.minLength,maxLength:t.maxLength,handleValidationCallback:t.handleValidationCallback},a=C(o[e],n),r=a&&"".concat(a,".")||"";return d((function(t){return V({},t,Object(x.a)({},e,r))})),a};return{handleChange:function(e,t){c(V({},o,Object(x.a)({},e,t))),d(V({},u,Object(x.a)({},e,"")))},handleSubmit:function(t){t&&t.preventDefault(),!b&&function(){var t=!0;return Object.keys(e).forEach((function(n){t=!g(n,e[n])&&t})),t}()&&h(!0)},handleValidation:function(t){var n=Object.keys(e).find((function(e){return e===t}));return!(!n||!e[n])&&g(n,e[n])},values:o,errors:u,isSubmitting:b}},q=n(58),T=n.n(q),I=n(92),U="authToken",F=n(184),A=n(191),B=n(93),_=n(185),H=n(190),J=function(e){function t(e,n){var a;return Object(F.a)(this,t),(a=Object(A.a)(this,Object(B.a)(t).call(this))).data=void 0,a.status=void 0,a.name=void 0,a.data=n&&n.message||n,a.status=e,a.name="RequestError",a}return Object(_.a)(t,e),t}(Object(H.a)(Error));function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,X="application/json",Z="text/html",G=function(e){if(!e)return null;try{return JSON.stringify(e)}catch(t){throw new TypeError("Error: incorrect send data format.")}},M=function(e){var t=e.headers.get("content-type");if(!t||t.includes(Z))return e.text();if(t.includes(X))return e.json();throw new TypeError("Error: incorrect received data format.")},Q=function(){var e=Object(I.a)(T.a.mark((function e(){var t,n,a,r,i,o,c,l,s=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1&&void 0!==s[1]?s[1]:{},a=K+t,r=new Headers({"Content-Type":X}),(i=null)&&r.append("X-AUTH-TOKEN",i),o=z({headers:r},n),e.next=9,fetch(a,o);case 9:return c=e.sent,e.next=12,M(c);case 12:if(l=e.sent,c.ok){e.next=15;break}throw new J(c.status,l);case 15:return e.abrupt("return",l);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(e){return function(e,t){var n={method:"POST",body:G(t)};return Q(e,n)}("/users/create",{email:e.email,password:e.password})},Y=function(){var e=window.localStorage;try{return e.setItem("test","1"),e.removeItem("test"),!0}catch(t){return!1}},ee={autoClose:5e3,pauseOnHover:!0,hideProgressBar:!0,draggable:!0,draggablePercent:60};function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ne=function(e){var t=e.text,n=e.type,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ee,{transition:s.a,type:n});return Object(s.c)(t,a)},ae=function(){var e=Object(a.useState)({}),t=Object(p.a)(e,2),n=t[0],r=t[1],i=function(e){var t,n,a=e.email,i=e.password;console.error("signIn",a,i),t=U,n="123",localStorage.setItem(t,n),r({})},o=function(){var e=Object(I.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,a=t.password,e.prev=1,e.next=4,W({email:n,password:a});case 4:i({email:n,password:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),ne({text:"Something went wrong. Please try again later.",type:"error"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return{user:n,isUserLoggedIn:function(){return e=U,Y()?localStorage.getItem(e):null;var e},signIn:i,signUp:o,signOut:function(){var e;e=U,Y()&&localStorage.removeItem(e),r({})}}},re=function(e){var t=e.id,n=e.initialValue,r=e.handleChangeCallback,i=e.handleValidation,o=Object(a.useState)(n),c=Object(p.a)(o,2),l=c[0],s=c[1],u=Object(a.useState)(!1),d=Object(p.a)(u,2),m=d[0],f=d[1],b=Object(a.useState)(!1),h=Object(p.a)(b,2),g=h[0],O=h[1];return Object(a.useEffect)((function(){m||n&&l&&n===l||s(n||"")}),[n]),{value:l,isFieldFilled:P(l).trim().length,isEditing:g,handleChange:function(e){var n=e.target.value;s(n),f(!0),r&&r(t,n)},handleFocus:function(){O(!0)},handleBlur:function(){O(!1),i(t)}}},ie=function(e){var t=e.id,n=e.label,a=e.name,i=e.type,o=e.errorText,c=re(e),l=c.value,s=c.isFieldFilled,u=c.isEditing,d=c.handleChange,m=c.handleFocus,f=c.handleBlur,p="".concat(u||s?"is-shifted":"");return r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{className:"form-control-label ".concat(p),htmlFor:t},n),r.a.createElement("input",{className:"form-field",id:t,name:a,onBlur:f,onChange:d,onFocus:m,type:i||"text",value:l||""}),o&&r.a.createElement("div",{className:"form-control-error"},o))},oe=function(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),n=t[0],i=t[1],o=N(S,n),c=o.values,l=o.errors,s=o.handleChange,u=o.handleSubmit,d=o.handleValidation,m=o.isSubmitting,f=ae().signUp;Object(a.useEffect)((function(){m&&function(){var e={email:P(c.email),password:P(c.password)};f(e).then((function(){i(!0)}))}()}),[m]);var b=S.email,h=S.password,g=S.confirmPassword;return r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"title"},"Sign Up"),r.a.createElement("form",{noValidate:!0,onSubmit:u},r.a.createElement(ie,{errorText:l.email,handleChangeCallback:s,handleValidation:d,handleValidationCallback:b.handleValidationCallback,id:"email",initialValue:c.email,isRequired:b.isRequired,label:"E-mail",name:"email",type:"email"}),r.a.createElement(ie,{errorText:l.password,handleChangeCallback:s,handleValidation:d,handleValidationCallback:h.handleValidationCallback,id:"password",initialValue:c.password,isRequired:h.isRequired,label:"Password",maxLength:h.maxLength,minLength:h.minLength,name:"password",type:"password"}),r.a.createElement(ie,{errorText:l.confirmPassword,handleChangeCallback:s,handleValidation:d,id:"confirm-password",initialValue:c.confirmPassword,isRequired:g.isRequired,label:"Confirm Password",maxLength:g.maxLength,minLength:g.minLength,name:"confirm-password",type:"password"})),r.a.createElement("button",{className:"button",onClick:u,type:"submit"},"Sign Up"))},ce=function(){return r.a.createElement("div",{className:"authorization-pages"},r.a.createElement(l.d,null,r.a.createElement(l.b,{component:f,exact:!0,path:d}),r.a.createElement(l.b,{component:oe,exact:!0,path:m}),r.a.createElement(l.a,{to:d})))},le=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.d,null,r.a.createElement(l.b,{component:ce,path:u})),r.a.createElement(s.b,{newestOnTop:!0}))};n(403);o.a.render(r.a.createElement(c.a,null,r.a.createElement(le,null)),document.getElementById("root"))}},[[192,1,2]]]);
//# sourceMappingURL=main.0bd6e8f4.chunk.js.map